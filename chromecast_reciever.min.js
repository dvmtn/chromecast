/*! chromecast_reciever 2015-03-21 18:28 */
function displayText(a){"left"===a&&(x-=1),"right"===a&&(x+=1),"up"===a&&(y-=1),"down"===a&&(y+=1),document.getElementById("blob").style.left=x+"%",document.getElementById("blob").style.top=y+"%",document.body.style.backgroundColor="hsl("+3.6*x+", "+y+"%,60%)",window.castReceiverManager.setApplicationState(a)}(function(){"use strict";var a,b=this,c=function(a){return void 0!==a},d=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},e=function(a){return"string"==typeof a},f=function(a){return"function"==d(a)},g=function(a){return a.call.apply(a.bind,arguments)},h=function(a,b){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}},i=function(){return i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:h,i.apply(null,arguments)},j=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=b.slice();return c.push.apply(c,arguments),a.apply(this,c)}},k=Date.now||function(){return+new Date},l=function(a,d){var e=a.split("."),f=b;e[0]in f||!f.execScript||f.execScript("var "+e[0]);for(var g;e.length&&(g=e.shift());)!e.length&&c(d)?f[g]=d:f=f[g]?f[g]:f[g]={}},m=function(a,b){function c(){}c.prototype=b.prototype,a.r=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.vc=function(a,c){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};Function.prototype.bind=Function.prototype.bind||function(a){if(1<arguments.length){var b=Array.prototype.slice.call(arguments,1);return b.unshift(this,a),i.apply(null,b)}return i(this,a)};var n=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};m(n,Error),n.prototype.name="CustomError";var o=function(a){for(var b=a.split("%s"),c="",d=Array.prototype.slice.call(arguments,1);d.length&&1<b.length;)c+=b.shift()+d.shift();return c+b.join("%s")},p=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},q=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return d>c?-1:c==d?0:1},r=function(a,b){return b>a?-1:a>b?1:0},s=function(a,b){b.unshift(a),n.call(this,o.apply(null,b)),b.shift()};m(s,n),s.prototype.name="AssertionError";var t,u=function(a,b){if(!a){var c="Assertion failed";if(b)var c=c+(": "+b),d=Array.prototype.slice.call(arguments,2);throw new s(""+c,d||[])}},v=function(a){throw new s("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},w=Array.prototype,x=w.indexOf?function(a,b,c){return u(null!=a.length),w.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,e(a))return e(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=function(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c},z=function(a){var b,c={};for(b in a)c[b]=a[b];return c},A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),B=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<A.length;e++)b=A[e],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}};a:{var C=b.navigator;if(C){var D=C.userAgent;if(D){t=D;break a}}t=""}var E=function(){return-1!=t.indexOf("Edge")},F=-1!=t.indexOf("Opera")||-1!=t.indexOf("OPR"),G=-1!=t.indexOf("Edge")||-1!=t.indexOf("Trident")||-1!=t.indexOf("MSIE"),H=!(-1==t.indexOf("Gecko")||-1!=t.toLowerCase().indexOf("webkit")&&!E()||-1!=t.indexOf("Trident")||-1!=t.indexOf("MSIE")||E()),I=-1!=t.toLowerCase().indexOf("webkit")&&!E(),J=function(){var a=t;return H?/rv\:([^\);]+)(\)|;)/.exec(a):G&&E()?/Edge\/([\d\.]+)/.exec(a):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):I?/WebKit\/(\S+)/.exec(a):void 0},K=function(){var a=b.document;return a?a.documentMode:void 0},L=function(){if(F&&b.opera){var a=b.opera.version;return f(a)?a():a}var a="",c=J();return c&&(a=c?c[1]:""),G&&!E()&&(c=K(),c>parseFloat(a))?String(c):a}(),M={},N=function(a){var b;if(!(b=M[a])){b=0;for(var c=p(String(L)).split("."),d=p(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"",i=/(\d*)(\D*)/g,j=/(\d*)(\D*)/g;do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=r(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||r(0==k[2].length,0==l[2].length)||r(k[2],l[2])}while(0==b)}b=M[a]=b>=0}return b},O=b.document,P=K(),Q=!O||!G||!P&&E()?void 0:P||("CSS1Compat"==O.compatMode?parseInt(L,10):5),R=function(a,b,c,d,e){this.reset(a,b,c,d,e)};R.prototype.Ca=null;var S=0;R.prototype.reset=function(a,b,c,d,e){"number"==typeof e||S++,this.vb=d||k(),this.D=a,this.hb=b,this.fb=c,delete this.Ca},R.prototype.Da=function(){return this.D},R.prototype.Ta=function(a){this.D=a};var T=function(a){this.ib=a,this.T=this.wa=this.D=this.oa=null},U=function(a,b){this.name=a,this.value=b};U.prototype.toString=function(){return this.name};var V=new U("SHOUT",1200),W=new U("SEVERE",1e3),X=new U("WARNING",900),Y=new U("INFO",800),Z=new U("CONFIG",700),$=new U("FINE",500),_=new U("FINER",400),ab=[new U("OFF",1/0),V,W,X,Y,Z,$,_,new U("FINEST",300),new U("ALL",0)],bb=null,cb=function(a){if(!bb){bb={};for(var b,c=0;b=ab[c];c++)bb[b.value]=b,bb[b.name]=b}if(a in bb)return bb[a];for(c=0;c<ab.length;++c)if(b=ab[c],b.value<=a)return b;return null};T.prototype.getName=function(){return this.ib},T.prototype.getParent=function(){return this.oa},T.prototype.Ta=function(a){this.D=a},T.prototype.Da=function(){return this.D};var db=function(a){return a.D?a.D:a.oa?db(a.oa):(v("Root logger has no level set."),null)};T.prototype.log=function(a,c,d){if(a.value>=db(this).value)for(f(c)&&(c=c()),a=new R(a,String(c),this.ib),d&&(a.Ca=d),d="log:"+a.hb,b.console&&(b.console.timeStamp?b.console.timeStamp(d):b.console.markTimeline&&b.console.markTimeline(d)),b.msWriteProfilerMark&&b.msWriteProfilerMark(d),d=this;d;){c=d;var e=a;if(c.T)for(var g=0,h=void 0;h=c.T[g];g++)h(e);d=d.getParent()}},T.prototype.info=function(a,b){this.log(Y,a,b)};var eb={},fb=null,gb=function(){fb||(fb=new T(""),eb[""]=fb,fb.Ta(Z))},hb=function(a){gb();var b;if(!(b=eb[a])){b=new T(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=hb(a.substr(0,c));c.wa||(c.wa={}),c.wa[d]=b,b.oa=c,eb[a]=b}return b},ib=function(){this.R=this.R,this.G=this.G};ib.prototype.R=!1,ib.prototype.A=function(){this.R||(this.R=!0,this.d())};var jb=function(a,b){a.R?b.call(void 0):(a.G||(a.G=[]),a.G.push(c(void 0)?i(b,void 0):b))};ib.prototype.d=function(){if(this.G)for(;this.G.length;)this.G.shift()()};var kb=function(a){a&&"function"==typeof a.A&&a.A()},lb=function(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.H=!1,this.mb=!0};lb.prototype.stopPropagation=function(){this.H=!0},lb.prototype.preventDefault=function(){this.defaultPrevented=!0,this.mb=!1};var mb=function(a,b,c){a&&a.log(b,c,void 0)},nb=function(a,b){a&&a.log(W,b,void 0)},ob=function(a,b){a&&a.log(X,b,void 0)},pb=function(a,b){a&&a.info(b,void 0)},qb=function(a,b){a&&a.log($,b,void 0)};l("cast.receiver.VERSION","2.0.0");var rb=hb("cast");l("cast.receiver.logger",rb),l("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1e3,NONE:1500}),rb.qb=function(a){rb&&rb.Ta(cb(a))},rb.setLevelValue=rb.qb,rb&&rb.qb(1e3);var sb=function(){this.lb=k()},tb=new sb;sb.prototype.set=function(a){this.lb=a},sb.prototype.reset=function(){this.set(k())},sb.prototype.get=function(){return this.lb};var ub=function(a){this.kc=a||"",this.tc=tb};a=ub.prototype,a.Ua=!0,a.sb=!0,a.rc=!0,a.qc=!0,a.tb=!1,a.sc=!1;var vb=function(a){return 10>a?"0"+a:String(a)},wb=function(a,b){var c=(a.vb-b)/1e3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},xb=function(a){ub.call(this,a)};m(xb,ub);var yb=function(){this.lc=i(this.xb,this),this.ga=new xb,this.ga.sb=!1,this.ga.tb=!1,this.cb=this.ga.Ua=!1,this.eb="",this.Sb={}};yb.prototype.xb=function(a){if(!this.Sb[a.fb]){var b;b=this.ga;var c=[];if(c.push(b.kc," "),b.sb){var d=new Date(a.vb);c.push("[",vb(d.getFullYear()-2e3)+vb(d.getMonth()+1)+vb(d.getDate())+" "+vb(d.getHours())+":"+vb(d.getMinutes())+":"+vb(d.getSeconds())+"."+vb(Math.floor(d.getMilliseconds()/10)),"] ")}if(b.rc&&c.push("[",wb(a,b.tc.get()),"s] "),b.qc&&c.push("[",a.fb,"] "),b.sc&&c.push("[",a.Da().name,"] "),c.push(a.hb),b.tb&&(d=a.Ca)&&c.push("\n",d instanceof Error?d.message:d.toString()),b.Ua&&c.push("\n"),b=c.join(""),c=zb)switch(a.Da()){case V:Ab(c,"info",b);break;case W:Ab(c,"error",b);break;case X:Ab(c,"warn",b);break;default:Ab(c,"debug",b)}else this.eb+=b}};var zb=b.console,Ab=function(a,b,c){a[b]?a[b](c):a.log(c)},Bb=function(a){return Bb[" "](a),a};Bb[" "]=function(){};var Cb=!G||G&&(E()||Q>=9),Db=G&&!N("9");!I||N("528"),H&&N("1.9b")||G&&N("8")||F&&N("9.5")||I&&N("528"),H&&!N("8")||G&&N("9");var Eb=function(a,b){if(lb.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.S=this.state=null,a){var c=this.type=a.type;this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(H){var e;a:{try{Bb(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=I||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=I||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.S=a,a.defaultPrevented&&this.preventDefault()}};m(Eb,lb),Eb.prototype.stopPropagation=function(){Eb.r.stopPropagation.call(this),this.S.stopPropagation?this.S.stopPropagation():this.S.cancelBubble=!0},Eb.prototype.preventDefault=function(){Eb.r.preventDefault.call(this);var a=this.S;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Db)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}};var Fb="closure_listenable_"+(1e6*Math.random()|0),Gb=0,Hb=function(a,b,c,d,e){this.F=a,this.pa=null,this.src=b,this.type=c,this.fa=!!d,this.ha=e,this.key=++Gb,this.O=this.ea=!1},Ib=function(a){a.O=!0,a.F=null,a.pa=null,a.src=null,a.ha=null},Jb=function(a){this.src=a,this.h={},this.da=0};Jb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.h[f],a||(a=this.h[f]=[],this.da++);var g=Lb(a,b,d,e);return g>-1?(b=a[g],c||(b.ea=!1)):(b=new Hb(b,this.src,f,!!d,e),b.ea=c,a.push(b)),b},Jb.prototype.remove=function(a,b,c,d){if(a=a.toString(),!(a in this.h))return!1;var e=this.h[a];return b=Lb(e,b,c,d),b>-1?(Ib(e[b]),u(null!=e.length),w.splice.call(e,b,1),0==e.length&&(delete this.h[a],this.da--),!0):!1};var Kb=function(a,b){var c=b.type;if(c in a.h){var d,e=a.h[c],f=x(e,b);(d=f>=0)&&(u(null!=e.length),w.splice.call(e,f,1)),d&&(Ib(b),0==a.h[c].length&&(delete a.h[c],a.da--))}};Jb.prototype.Ea=function(a,b,c,d){a=this.h[a.toString()];var e=-1;return a&&(e=Lb(a,b,c,d)),e>-1?a[e]:null};var Lb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.O&&f.F==b&&f.fa==!!c&&f.ha==d)return e}return-1},Mb="closure_lm_"+(1e6*Math.random()|0),Nb={},Ob=0,Pb=function(a,b,c,e,f){if("array"==d(b))for(var g=0;g<b.length;g++)Pb(a,b[g],c,e,f);else if(c=Zb(c),a&&a[Fb])g=c,ac(a),a.m.add(String(b),g,!1,e,f);else{if(!b)throw Error("Invalid event type");var g=!!e,h=Xb(a);h||(a[Mb]=h=new Jb(a)),e=h.add(b,c,!1,e,f),e.pa||(f=Qb(),e.pa=f,f.src=a,f.F=e,a.addEventListener?a.addEventListener(b.toString(),f,g):a.attachEvent(Tb(b.toString()),f),Ob++)}},Qb=function(){var a=Wb,b=Cb?function(c){return a.call(b.src,b.F,c)}:function(c){return c=a.call(b.src,b.F,c),c?void 0:c};return b},Rb=function(a,b,c,e,f){if("array"==d(b))for(var g=0;g<b.length;g++)Rb(a,b[g],c,e,f);else c=Zb(c),a&&a[Fb]?a.m.remove(String(b),c,e,f):a&&(a=Xb(a))&&(b=a.Ea(b,c,!!e,f))&&Sb(b)},Sb=function(a){if("number"!=typeof a&&a&&!a.O){var b=a.src;if(b&&b[Fb])Kb(b.m,a);else{var c=a.type,d=a.pa;b.removeEventListener?b.removeEventListener(c,d,a.fa):b.detachEvent&&b.detachEvent(Tb(c),d),Ob--,(c=Xb(b))?(Kb(c,a),0==c.da&&(c.src=null,b[Mb]=null)):Ib(a)}}},Tb=function(a){return a in Nb?Nb[a]:Nb[a]="on"+a},Ub=function(a,b,c,d){var e=!0;if((a=Xb(a))&&(b=a.h[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.fa==c&&!f.O&&(f=Vb(f,d),e=e&&!1!==f)}return e},Vb=function(a,b){var c=a.F,d=a.ha||a.src;return a.ea&&Sb(a),c.call(d,b)},Wb=function(a,c){if(a.O)return!0;if(!Cb){var d;if(!(d=c))a:{d=["window","event"];for(var e,f=b;e=d.shift();){if(null==f[e]){d=null;break a}f=f[e]}d=f}if(e=d,d=new Eb(e,this),f=!0,!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){g=!0}(g||void 0==e.returnValue)&&(e.returnValue=!0)}for(e=[],g=d.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,i=e.length-1;!d.H&&i>=0;i--){d.currentTarget=e[i];var j=Ub(e[i],g,!0,d),f=f&&j}for(i=0;!d.H&&i<e.length;i++)d.currentTarget=e[i],j=Ub(e[i],g,!1,d),f=f&&j}return f}return Vb(a,new Eb(c,this))},Xb=function(a){return a=a[Mb],a instanceof Jb?a:null},Yb="__closure_events_fn_"+(1e9*Math.random()>>>0),Zb=function(a){return u(a,"Listener can not be null."),f(a)?a:(u(a.handleEvent,"An object listener must have handleEvent method."),a[Yb]||(a[Yb]=function(b){return a.handleEvent(b)}),a[Yb])},$b=function(){ib.call(this),this.m=new Jb(this),this.wb=this,this.Ra=null};m($b,ib),$b.prototype[Fb]=!0,$b.prototype.addEventListener=function(a,b,c,d){Pb(this,a,b,c,d)},$b.prototype.removeEventListener=function(a,b,c,d){Rb(this,a,b,c,d)},$b.prototype.dispatchEvent=function(a){ac(this);var b,c=this.Ra;if(c){b=[];for(var d=1;c;c=c.Ra)b.push(c),u(1e3>++d,"infinite loop")}if(c=this.wb,d=a.type||a,e(a))a=new lb(a,c);else if(a instanceof lb)a.target=a.target||c;else{var f=a;a=new lb(d,c),B(a,f)}var g,f=!0;if(b)for(var h=b.length-1;!a.H&&h>=0;h--)g=a.currentTarget=b[h],f=_b(g,d,!0,a)&&f;if(a.H||(g=a.currentTarget=c,f=_b(g,d,!0,a)&&f,a.H||(f=_b(g,d,!1,a)&&f)),b)for(h=0;!a.H&&h<b.length;h++)g=a.currentTarget=b[h],f=_b(g,d,!1,a)&&f;return f},$b.prototype.d=function(){if($b.r.d.call(this),this.m){var a,b=this.m,c=0;for(a in b.h){for(var d=b.h[a],e=0;e<d.length;e++)++c,Ib(d[e]);delete b.h[a],b.da--}}this.Ra=null};var _b=function(a,b,c,d){if(b=a.m.h[String(b)],!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.O&&g.fa==c){var h=g.F,i=g.ha||g.src;g.ea&&Kb(a.m,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.mb};$b.prototype.Ea=function(a,b,c,d){return this.m.Ea(String(a),b,c,d)};var ac=function(a){u(a.m,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},bc=function(a,c,d){if(f(a))d&&(a=i(a,d));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=i(a.handleEvent,a)}return c>2147483647?-1:b.setTimeout(a,c||0)},cc=function(a,b){$b.call(this),this.yb=c(a)?a:!0,this.Fa=b||fc,this.na=this.Fa(this.aa)};m(cc,$b),a=cc.prototype,a.j=null,a.t=null,a.N=void 0,a.xa=!1,a.aa=0,a.I=null;var dc=cc.prototype,ec=hb("goog.net.WebSocket");dc.a=ec;var fc=function(a){return Math.min(1e3*Math.pow(2,a),6e4)};a=cc.prototype,a.open=function(a,c){u(b.WebSocket,"This browser does not support WebSocket"),u(!this.W(),"The WebSocket is already open"),null!=this.I&&b.clearTimeout(this.I),this.I=null,this.t=a,(this.N=c)?(pb(this.a,"Opening the WebSocket on "+this.t+" with protocol "+this.N),this.j=new WebSocket(this.t,this.N)):(pb(this.a,"Opening the WebSocket on "+this.t),this.j=new WebSocket(this.t)),this.j.onopen=i(this.gc,this),this.j.onclose=i(this.dc,this),this.j.onmessage=i(this.Oa,this),this.j.onerror=i(this.Ma,this)},a.close=function(){null!=this.I&&b.clearTimeout(this.I),this.I=null,this.j&&(pb(this.a,"Closing the WebSocket."),this.xa=!0,this.j.close(),this.j=null)},a.send=function(a){u(this.W(),"Cannot send without an open socket"),this.j.send(a)},a.W=function(){return!!this.j&&1==this.j.readyState},a.gc=function(){pb(this.a,"WebSocket opened on "+this.t),this.dispatchEvent("d"),this.aa=0,this.na=this.Fa(this.aa)},a.dc=function(a){pb(this.a,"The WebSocket on "+this.t+" closed."),this.dispatchEvent("a"),this.j=null,this.xa?(pb(this.a,"The WebSocket closed normally."),this.t=null,this.N=void 0):(nb(this.a,"The WebSocket disconnected unexpectedly: "+a.data),this.yb&&(pb(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.na/1e3)),this.I=bc(i(this.open,this,this.t,this.N),this.na,this),this.aa++,this.na=this.Fa(this.aa))),this.xa=!1},a.Oa=function(a){this.dispatchEvent(new gc(a.data))},a.Ma=function(a){a=a.data,nb(this.a,"An error occurred: "+a),this.dispatchEvent(new hc(a))},a.d=function(){cc.r.d.call(this),this.close()};var gc=function(a){lb.call(this,"c"),this.message=a};m(gc,lb);var hc=function(a){lb.call(this,"b"),this.data=a};m(hc,lb);var ic=function(a,b){$b.call(this),this.J=b,this.Ha=!0,this.L=a,this.onClose=this.onMessage=null;var c=this.L,d=this.J,e=this.Na;ac(c),c.m.add(String(d),e,!1,!1,this)};m(ic,$b),l("cast.receiver.CastChannel",ic),ic.EventType={MESSAGE:"message",CLOSE:"close"};var jc=function(a,b){lb.call(this,a),this.message=b};m(jc,lb),ic.Event=jc,ic.prototype.a=hb("cast.receiver.CastChannel"),ic.prototype.s=function(){return"CastChannel["+this.J+" "+this.L.B()+"]"},ic.prototype.B=function(){return this.L.B()},ic.prototype.getNamespace=ic.prototype.B,ic.prototype.Yb=function(){return this.J},ic.prototype.getSenderId=ic.prototype.Yb,ic.prototype.Na=function(a){mb(this.a,_,"Dispatching CastChannel message ["+this.L.B()+", "+this.J+"]: "+a.data),a=new jc("message",a.data),this.onMessage&&this.onMessage(a),this.dispatchEvent(a)},ic.prototype.close=function(){if(this.Ha){this.Ha=!1,pb(this.a,"Closing CastChannel ["+this.L.B()+", "+this.J+"]");var a=new jc("close",this.J);this.onClose&&this.onClose(a),this.dispatchEvent(a),this.A()}},ic.prototype.send=function(a){if(!this.Ha)throw Error("Invalid state, socket not open");this.L.send(this.J,a)},ic.prototype.send=ic.prototype.send,ic.prototype.d=function(){ic.r.d.call(this),mb(this.a,_,"Disposed "+this.s())},l("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:"),l("cast.receiver.system.ApplicationData",function(){this.name=this.id="",this.sessionId=0,this.namespaces=[],this.launchingSenderId=""}),l("cast.receiver.system.SystemVolumeData",function(){this.level=1,this.muted=!1}),l("cast.receiver.system.Sender",function(){this.userAgent=this.id=""}),l("cast.receiver.system.VisibilityState",{VISIBLE:"visible",NOT_VISIBLE:"notvisible",UNKNOWN:"unknown"}),l("cast.receiver.system.StandbyState",{STANDBY:"standby",NOT_STANDBY:"notstandby",UNKNOWN:"unknown"}),l("cast.receiver.system.SystemState",{NOT_STARTED:"notstarted",STARTING_IN_BACKGROUND:"startinginbackground",STARTING:"starting",READY:"ready",STOPPING_IN_BACKGROUND:"stoppinginbackground",STOPPING:"stopping"});var kc=function(){$b.call(this),this.l=null;var a=new cc(!0);this.l&&this.l.A(),this.l=a,jb(this,j(kb,this.l)),Pb(this.l,"d",this.hc,!1,this),Pb(this.l,"a",this.ec,!1,this),Pb(this.l,"b",this.Ma,!1,this),Pb(this.l,"c",this.Oa,!1,this)};m(kc,$b);var lc=function(a,b,c){lb.call(this,a),this.senderId=b,this.data=c};m(lc,lb),kc.prototype.a=hb("cast.receiver.IpcChannel");var mc=function(a,b){qb(a.a,"IpcChannel "+b),a.dispatchEvent(new lc("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};a=kc.prototype,a.hc=function(){mc(this,"opened")},a.ec=function(){mc(this,"closed")},a.Ma=function(){mc(this,"error")},a.Oa=function(a){qb(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new lc(b,a.senderId,a.data)):nb(this.a,"IpcChannel Message received is invalid")},a.open=function(){pb(this.a,"Opening message bus websocket"),this.l.open("ws://localhost:8008/v2/ipc")},a.close=function(){pb(this.a,"Closing message bus websocket"),this.l.close()},a.W=function(){return this.l.W()},a.send=function(a,b,c){if(!this.W)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c}),qb(this.a,"IPC message sent: "+a),this.l.send(a)},a.d=function(){kc.r.d.call(this),mb(this.a,_,"Disposed IpcChannel")};var nc=function(a,b,c,d){for($b.call(this),this.v=a,this.C=b,this.Z=d||"STRING",this.onMessage=null,this.serializeMessage=this.Rb,this.deserializeMessage=this.Db,this.g={},a=0;a<c.length;a++)this.g[c[a]]=null;c=this.C,a=this.v,b=this.Na,ac(c),c.m.add(String(a),b,!1,!1,this)};m(nc,$b),l("cast.receiver.CastMessageBus",nc),nc.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"},nc.EventType={MESSAGE:"message"};var oc=function(a,b,c){lb.call(this,a),this.senderId=b,this.data=c};m(oc,lb),nc.Event=oc,nc.prototype.a=hb("cast.receiver.CastMessageBus"),nc.prototype.s=function(){return"CastMessageBus["+this.v+"]"},nc.prototype.B=function(){return this.v},nc.prototype.getNamespace=nc.prototype.B,nc.prototype.$a=function(){return this.Z},nc.prototype.getMessageType=nc.prototype.$a,nc.prototype.Na=function(a){mb(this.a,_,"Dispatching CastMessageBus message");var b="STRING"==this.Z?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new oc(a.senderId,a.senderId,b)),a=new oc("message",a.senderId,b),this.onMessage&&this.onMessage(a),this.dispatchEvent(a)},nc.prototype.send=function(a,b){if("STRING"==this.Z){if(!e(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.C.send(this.v,a,b)}else this.C.send(this.v,a,this.serializeMessage(b))},nc.prototype.send=nc.prototype.send,nc.prototype.Va=function(a){this.send("*:*",a)},nc.prototype.broadcast=nc.prototype.Va,nc.prototype.Ub=function(a){if(a in this.g)return this.g[a]||(this.g[a]=new ic(this,a)),this.g[a];throw Error("Requested a socket for a disconnected sender: "+a)},nc.prototype.getCastChannel=nc.prototype.Ub,nc.prototype.Rb=function(a){if("JSON"!=this.Z)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)},nc.prototype.Db=function(a){if("JSON"!=this.Z)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)},nc.prototype.d=function(){nc.r.d.call(this);for(var a in this.g)this.g[a]&&this.g[a].close();this.g={},mb(this.a,_,"Disposed "+this.s())};var pc=function(){if($b.call(this),this.Wa=new yb){var a=this.Wa;if(1!=a.cb){gb();var b=fb,c=a.lc;b.T||(b.T=[]),b.T.push(c),a.cb=!0}}this.i=z(yc),this.$=!1,this.C=new kc,this.q={},this.ca=new nc("urn:x-cast:com.google.cast.system",this.C,y(this.q),"JSON"),jb(this,j(kb,this.ca)),this.Xa=this.ta=null,this.bb=!1,this.X=this.Y=null,this.qa=!0,this.bc="1.11",this.K="notstarted",this.n={},this.onStandbyChanged=this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onShutdown=this.onReady=null,Pb(this.ca,"SystemSender",this.ic,!1,this),Pb(window,"unload",this.Qa,!1,this),Pb(document,"visibilitychange",this.jb,!1,this),mb(this.a,V,"Version: 2.0.0.0025")};m(pc,$b),l("cast.receiver.CastReceiverManager",pc),pc.Za=function(){return pc.Ga?pc.Ga:pc.Ga=new pc},pc.getInstance=pc.Za,pc.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged",STANDBY_CHANGED:"standbychanged"};var qc=function(a,b){lb.call(this,a),this.data=b};m(qc,lb),pc.Event=qc,l("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});var rc=function(a,b,c){qc.call(this,"senderdisconnected",a),this.senderId=a,this.userAgent=b,this.reason=c};m(rc,qc),pc.SenderDisconnectedEvent=rc;var sc=function(a,b){qc.call(this,"senderconnected",a),this.senderId=a,this.userAgent=b};m(sc,qc),pc.SenderConnectedEvent=sc;var tc=function(a){qc.call(this,"visibilitychanged",a),this.isVisible=a};m(tc,qc),pc.VisibilityChangedEvent=tc;var uc=function(a){qc.call(this,"standbychanged",null),this.isStandby=a};m(uc,qc),pc.StandbyChangedEvent=uc;var vc=function(a){qc.call(this,"systemvolumechanged",a),this.data=a};m(vc,qc),pc.SystemVolumeChangedEvent=vc;var wc=function(a){qc.call(this,"ready",a),this.data=a};m(wc,qc),pc.ReadyEvent=wc;var xc=function(){qc.call(this,"shutdown",null)};m(xc,qc),pc.ShutdownEvent=xc,pc.Config=function(){this.dialData=this.maxInactivity=this.statusText=void 0};var yc={maxInactivity:10};pc.prototype.a=hb("cast.receiver.CastReceiverManager"),pc.prototype.s=function(){return"CastReceiverManager"},pc.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");B(this.i,a||{})}this.bb=!0,this.C.open()},pc.prototype.start=pc.prototype.start,pc.prototype.stop=function(){this.A(),window.close()},pc.prototype.stop=pc.prototype.stop,pc.prototype.Ia=function(){return"ready"==this.K},pc.prototype.isSystemReady=pc.prototype.Ia,pc.prototype.Zb=function(){return y(this.q)},pc.prototype.getSenders=pc.prototype.Zb,pc.prototype.Xb=function(a){return this.q[a]?z(this.q[a]):null},pc.prototype.getSender=pc.prototype.Xb,pc.prototype.ac=function(){return null==this.Y?this.X?"notvisible":"unknown":this.Y?"visible":"notvisible"},pc.prototype.getVisibilityState=pc.prototype.ac,pc.prototype.$b=function(){return null==this.X?this.Y?"notstandby":"unknown":this.X?"standby":"notstandby"},pc.prototype.getStandbyState=pc.prototype.$b,pc.prototype.ab=function(){return"notstarted"==this.K&&(this.K=/[&?]google_cast_bg=true(&|$)/.test(window.location.search)?"startinginbackground":"starting"),this.K},pc.prototype.getSystemState=pc.prototype.ab,pc.prototype.Tb=function(){return this.ta},pc.prototype.getApplicationData=pc.prototype.Tb,pc.prototype.Vb=function(){return this.Xa},pc.prototype.getDeviceCapabilities=pc.prototype.Vb,pc.prototype.mc=function(a){this.Ia()?zc(this,a):this.i.statusText!=a&&(this.i.statusText=a,this.$=!0)},pc.prototype.setApplicationState=pc.prototype.mc,pc.prototype.oc=function(a,b){this.Ia()?zc(this,a,b):(void 0!=a&&a!=this.i.statusText&&(this.i.statusText=a,this.$=!0),void 0!=b&&b!=this.i.dialData&&(this.i.dialData=b,this.$=!0))},pc.prototype.setLegacyApplicationState=pc.prototype.oc;var zc=function(a,b,c){var d={type:"setappstate"};void 0!=b&&(d.statusText=b),void 0!=c&&(d.dialData=c),a.ca.send("SystemSender",d)};pc.prototype.pb=function(a){this.ca.send("SystemSender",{type:"startheartbeat",maxInactivity:a})},pc.prototype.setInactivityTimeout=pc.prototype.pb,pc.prototype.Ya=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.n[a]){if(this.bb)throw Error("New namespaces can not be requested after start has been called");this.n[a]=new nc(a,this.C,y(this.q),b),jb(this,j(kb,this.n[a]))}if(b&&this.n[a].$a()!=b)throw Error("Invalid messageType for the namespace");return this.n[a]},pc.prototype.getCastMessageBus=pc.prototype.Ya,pc.prototype.ic=function(a){switch(a=a.data,a.type){case"opened":pb(this.a,"Underlying message bus is open");var b=y(this.n),d=this.i.statusText;a=this.i.dialData;var e={type:"ready"};d&&(e.statusText=d),a&&(e.dialData=a),e.activeNamespaces=b,e.version="2.0.0",e.messagesVersion="1.0",this.ca.send("SystemSender",e),this.i.maxInactivity&&this.pb(this.i.maxInactivity);break;case"closed":this.Qa();break;case"error":this.dispatchEvent("error");break;case"ready":b=a.launchingSenderId,d=y(this.n),this.sa=a.version,this.qa=!Bc(this,this.bc),this.Xa=(e=a.deviceCapabilities)?z(e):{},this.ta={id:a.applicationId,name:a.applicationName,sessionId:a.sessionId,namespaces:d,launchingSenderId:b},this.K="ready",this.$&&(this.$=!1,zc(this,this.i.statusText,this.i.dialData)),pb(this.a,"Dispatching CastReceiverManager system ready event"),b=new wc(this.ta),this.onReady&&this.onReady(b),this.dispatchEvent(b);break;case"senderconnected":b={id:a.senderId,userAgent:a.userAgent},pb(this.a,"Dispatching CastReceiverManager sender connected event ["+b.id+"]"),b.id in this.q&&nb(this.a,"Unexpected connected message for already connected sender: "+b.id),this.q[b.id]=b,a=new sc(b.id,b.userAgent);for(d in this.n){var e=this.n[d],f=b.id;f in e.g?nb(e.a,"Unexpected sender already registered ["+e.v+", "+f+"]"):(pb(e.a,"Registering sender ["+e.v+", "+f+"]"),e.g[f]=null)}this.onSenderConnected&&this.onSenderConnected(a),this.dispatchEvent(a);break;case"senderdisconnected":switch(d=a.senderId,a.reason){case"closed_by_peer":a="requested_by_sender";break;case"transport_invalid_message":a="error";break;default:a="unknown"}if(pb(this.a,"Dispatching sender disconnected event ["+d+"] Reason: "+a),d in this.q){e=this.q[d].userAgent,delete this.q[d],a=new rc(d,e,a);for(b in this.n)e=this.n[b],f=d,f in e.g&&(pb(e.a,"Unregistering sender ["+e.v+", "+f+"]"),e.g[f]&&e.g[f].close(),delete e.g[f]);this.onSenderDisconnected&&this.onSenderDisconnected(a),this.dispatchEvent(a)}else nb(this.a,"Unknown sender disconnected: "+d);break;case"volumechanged":b={level:a.level,muted:a.muted},pb(this.a,"Dispatching system volume changed event ["+b.level+", "+b.muted+"]"),b=new vc(b),this.onSystemVolumeChanged&&this.onSystemVolumeChanged(b),this.dispatchEvent(b);break;case"visibilitychanged":this.qa||(b=a.visible,Ac(this,c(b)?b:null));break;case"standbychanged":this.qa||(b=a.standby,b=c(b)?b:null,b==this.X)||(pb(this.a,"Dispatching standby changed event "+b),this.X=b,b=new uc(!0===b),this.onStandbyChanged&&this.onStandbyChanged(b),this.dispatchEvent(b));break;default:throw Error("Unexpected message type: "+a.type)}};var Ac=function(a,b){if(b==a.Y)pb(a.a,"Ignoring visibility changed event, state is already "+b);else{pb(a.a,"Dispatching visibility changed event "+b),a.Y=b;var c=new tc(!1!==b);a.onVisibilityChanged&&a.onVisibilityChanged(c),a.dispatchEvent(c)}};pc.prototype.jb=function(){this.qa&&Ac(this,"visible"==document.visibilityState)},pc.prototype.Qa=function(){pb(this.a,"Dispatching shutdown event"),this.ab(),this.K="startinginbackground"==this.K?"stoppinginbackground":"stopping";var a=new xc;this.onShutdown&&this.onShutdown(a),this.dispatchEvent(a)};var Bc=function(a,b){if(!b)return nb(a.a,"Version not provided"),!1;if(!a.sa)return nb(a.a,"No System Version"),!1;var c=b.split(".");if(!c.length)return nb(a.a,"Version provided is not valid: "+b),!1;var d=a.sa.split(".");if(!d.length)return nb(a.a,"System Version format is not valid "+a.sa),!1;for(var e=0;e<c.length;e++){var f=parseInt(c[e],10);if(isNaN(f))return nb(a.a,"Version is not numeric: "+b),!1;var g=d.length>e?parseInt(d[e],10):0;if(isNaN(g))return nb(a.a,"System Version is not numeric: "+a.sa),!1;if(f>g)return!1}return!0};pc.prototype.d=function(){pc.r.d.call(this),window&&Rb(window,"unload",this.Qa,!1,this),document&&Rb(document,"visibilitychange",this.jb,!1,this),delete pc.Ga,qb(this.a,"Disposed "+this.s())};var Cc=function(a,b){this.a=a,this.b=b,this.Ba=function(){},this.Aa=function(){},this.Ja=function(){},this.V=0,this.p=this.o=null,this.ia=!0,Pb(this.b,"error",this.La,!1,this),Pb(this.b,"ended",this.Ka,!1,this),Pb(this.b,"loadedmetadata",this.Pa,!1,this),pb(this.a,"Using default Player")
};a=Cc.prototype,a.kb=function(a,b){this.ia=a,this.V=b},a.La=function(a){this.Ba(a)},a.Ka=function(){this.Aa()},a.Pa=function(){this.o&&this.p&&Kc(this.o,this.p),this.Ja()},a.registerErrorCallback=function(a){this.Ba=a},a.registerEndedCallback=function(a){this.Aa=a},a.registerLoadCallback=function(a){this.Ja=a},a.unregisterErrorCallback=function(){this.Ba=function(){}},a.unregisterEndedCallback=function(){this.Aa=function(){}},a.unregisterLoadCallback=function(){this.Ja=function(){}},a.load=function(a,b,c,d,e){d&&d.tracks&&this.b&&(this.o&&this.o.A(),this.o=new Jc(this.b,d.tracks,d.activeTrackIds||[],d.textTrackStyle||null)),e||(this.V=c&&c>0?c:0,pb(this.a,"Load - contentId: "+a+" autoplay: "+b+" time: "+this.V),this.b.autoplay=!1,a&&(this.b.src=a),this.b.autoplay=b,this.b.load())},a.reset=function(){this.o&&(this.o.A(),this.o=null),this.activeTrackIds=null,this.b.removeAttribute("src"),this.V=0,this.b.load()},a.play=function(){this.b.play()},a.seek=function(a,b){this.b.currentTime!=a&&(this.b.currentTime=a),"PLAYBACK_START"==b&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=b||this.b.paused||this.b.pause()},a.pause=function(){this.b.pause()},a.getState=function(){return null==this.ia&&(this.ia=this.b.autoplay),this.b.paused||isNaN(this.b.duration)?this.b.duration&&(this.b.currentTime||0==this.b.currentTime)&&this.b.duration!=this.b.currentTime?this.b.currentTime==this.V&&this.ia?"BUFFERING":"PAUSED":"IDLE":"PLAYING"},a.getCurrentTimeSec=function(){return this.b.currentTime},a.getDurationSec=function(){return this.b.duration},a.getVolume=function(){return{level:this.b.volume,muted:this.b.muted}},a.setVolume=function(a){void 0!=a.level&&(this.b.volume=a.level),void 0!=a.muted&&(this.b.muted=a.muted)},a.editTracksInfo=function(a){if(this.o){if(a.textTrackStyle){var b=this.o,c=a.textTrackStyle;Oc(b),Rc(b,c)}a.activeTrackIds&&Kc(this.o,a.activeTrackIds),this.p=a.activeTrackIds||[]}},l("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media"),l("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"}),l("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"}),l("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"}),l("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"}),l("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"}),l("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var Dc=function(){this.contentId="",this.streamType="NONE",this.contentType="",this.customData=this.textTrackStyle=this.tracks=this.duration=this.metadata=void 0};l("cast.receiver.media.MediaInformation",Dc);var Ec=function(){this.muted=this.level=void 0};l("cast.receiver.media.Volume",Ec),l("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0,this.media=void 0,this.playbackRate=1,this.playerState="IDLE",this.idleReason=void 0,this.supportedMediaCommands=this.currentTime=0,this.volume={level:0,muted:!1},this.activeTrackIds=null,this.customData=void 0}),l("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8,ALL_BASIC_MEDIA:15,QUEUE_NEXT:64,QUEUE_PREV:128}),l("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"}),l("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"}),l("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"}),l("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"}),l("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"}),l("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"}),l("cast.receiver.media.Track",function(a,b){this.trackId=a,this.trackContentType=this.trackContentId=void 0,this.type=b,this.customData=this.subtype=this.language=this.name=void 0}),l("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0}),l("cast.receiver.media.TracksInfo",function(){this.textTrackStyle=this.activeTrackIds=this.tracks=void 0});var Fc=/#(.)(.)(.)(.)/,Gc=function(a){if(!Hc.test(a))throw Error("'"+a+"' is not a valid alpha hex color");return 5==a.length&&(a=a.replace(Fc,"#$1$1$2$2$3$3$4$4")),a=a.toLowerCase(),[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),parseInt(a.substr(7,2),16)/255]},Hc=/^#(?:[0-9a-f]{4}){1,2}$/i,Ic=function(a){var b=a.slice(0);return b[3]=Math.round(1e3*a[3])/1e3,"rgba("+b.join(",")+")"};!H&&!G||G&&G&&(E()||Q>=9)||H&&N("1.9.1"),G&&N("9");var Jc=function(a,b,c,d){for(ib.call(this),this.b=a,this.za=this.ra=null,this.w=[],this.ya=!1,this.va="cast-captions-"+Math.floor(1e6*Math.random()).toString(),this.Ab="["+this.va+'="true"]::cue ',this.Bb=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i),a=0;a<b.length;a++){var e=b[a].trackContentId;if("TEXT"===b[a].type&&e){var f=b[a].trackContentType;(0==q("vtt",e.substr(e.length-3,3))||void 0!=f&&0==q(f,"text/vtt"))&&(e=document.createElement("track"),e.src=b[a].trackContentId,e.id=b[a].trackId,e.label=b[a].name,e.srclang=b[a].language,e.kind=(b[a].subtype||"").toLowerCase(),this.w.push(e),this.b.appendChild(e))}}Oc(this),d&&Rc(this,d),Kc(this,c)};m(Jc,ib),Jc.prototype.a=hb("cast.receiver.TextTracksManager"),Jc.prototype.s=function(){return"TextTracksManager"};var Kc=function(a,b){for(var c=0;c<a.w.length;c++){var d=a.w[c].track;d.mode=0<=x(b,parseInt(a.w[c].id,10))?"showing":"disabled"}},Lc=function(a){a.za&&(a.b.removeAttribute(a.va),document.head.removeChild(a.za),a.ra=null)},Mc=function(a){a.ya&&(a.b.removeAttribute("crossorigin"),a.ya=!1)},Nc=function(a,b,c){!0===c||a.Bb.test(b)?a.ra.insertRule(a.Ab+"{ "+b+" }",a.ra.cssRules.length):ob(a.a,"Invalid css cue: "+b)},Oc=function(a){Lc(a),Mc(a);var b=document,c=b.createElement("style");c.type="text/css",b.getElementsByTagName("head")[0].appendChild(c),c.styleSheet?c.styleSheet.cssText="":c.appendChild(b.createTextNode("")),a.za=c,a.ra=document.styleSheets[document.styleSheets.length-1],Nc(a,"font-size: 4.1vh;"),Nc(a,"font-family: monospace;"),Nc(a,"font-style: normal;"),Nc(a,"font-weight: normal;"),Nc(a,"background-color: black;"),Nc(a,"color: white;"),a.b.setAttribute(a.va,!0),0<a.w.length&&!a.b.getAttribute("crossorigin")&&(a.b.setAttribute("crossorigin","anonymous"),a.ya=!0)},Pc=function(a,b,c){var d;try{d=Ic(Gc(b))}catch(e){ob(a.a,"Invalid color: "+b)}if(d)switch(a="rgba(204, 204, 204, "+parseInt(b.substring(7,9),16)+")",c){case"OUTLINE":return"text-shadow: 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+";";case"DROP_SHADOW":return"text-shadow: 0px 2px 3px "+d+", 0px 2px 4px "+d+", 0px 2px 5px "+d+";";case"RAISED":return"text-shadow: 1px 1px "+d+", 2px 2px "+d+", 3px 3px "+d+";";case"DEPRESSED":return"text-shadow: 1px 1px "+a+", 0 1px "+a+", -1px -1px "+d+", 0 -1px "+d+";"}return""},Qc=function(a){switch(a){case"BOLD":return"font-weight: bold;";case"BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case"ITALIC":return"font-style: italic;"}return"font-style: normal;"},Rc=function(a,b){if(c(b.foregroundColor))try{var d=Ic(Gc(b.foregroundColor));Nc(a,"color: "+d+";",!0)}catch(e){ob(a.a,"Invalid color: "+b.foregroundColor)}if(c(b.backgroundColor))try{var f=Ic(Gc(b.backgroundColor));Nc(a,"background-color: "+f+";",!0)}catch(g){ob(a.a,"Invalid color: "+b.backgroundColor)}if(c(b.fontScale)&&Nc(a,"font-size: "+100*b.fontScale+"%;"),c(b.fontFamily)||c(b.fontGenericFamily)){var d=b.fontFamily,f=b.fontGenericFamily,h="font-family: ",i="";if(c(d)&&(h+='"'+d+'"',i=", "),c(f)){var j;switch(f){case"SANS_SERIF":j='"Droid Sans", sans-serif';break;case"MONOSPACED_SANS_SERIF":j='"Droid Sans Mono", monospace';break;case"SERIF":j='"Droid Serif", serif';break;case"MONOSPACED_SERIF":j='"Cutive Mono"';break;case"CASUAL":j='"Short Stack"';break;case"CURSIVE":j="Quintessential";break;case"SMALL_CAPITALS":j='"Alegreya Sans SC"'}h+=i+j}Nc(a,h+";")}c(b.fontStyle)&&Nc(a,Qc(b.fontStyle)),c(b.edgeType)&&(j=c(b.foregroundColor)?b.foregroundColor:"#FFFFFFFF",j=c(b.edgeColor)?Pc(a,b.edgeColor,b.edgeType):Pc(a,j,b.edgeType),Nc(a,j,!0))};Jc.prototype.d=function(){Jc.r.d.call(this);for(var a=0;a<this.w.length;a++)this.b.removeChild(this.w[a]);this.w=[],Lc(this),Mc(this),mb(this.a,_,"Disposed "+this.s())};var Sc=function(a,b){$b.call(this),this.ma=pc.Za().Ya("urn:x-cast:com.google.cast.media","JSON"),this.ka=0,this.jc=1,this.uc=b||15,this.ub=this.gb=this.M=this.la=this.e=this.c=null,this.u=!1,this.p=this.U=this.f=null,this.ja=!0,this.Q=null,this.ua=this.zb.bind(this),this.customizedStatusCallback=this.Cb,this.onLoad=this.Jb,this.onPlay=this.Mb,this.onSeek=this.Ob,this.onPause=this.Lb,this.onStop=this.Qb,this.onSetVolume=this.Pb,this.onEditTracksInfo=this.Eb,this.onQueueUpdate=this.Nb,this.onMetadataLoaded=this.Kb,this.onLoadMetadataError=this.Ib,this.onEnded=this.Fb,this.onError=this.Gb,this.onGetStatus=this.Hb,this.rb(a),this.ma.onMessage=this.fc.bind(this),this.Q=bc(this.ua,1e3)};m(Sc,$b),l("cast.receiver.MediaManager",Sc),Sc.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"edittracksinfo",QUEUE_UPDATE:"queueupdate"};var Tc=function(a,b,c){lb.call(this,a),this.data=b,this.senderId=c};m(Tc,lb),Sc.Event=Tc;var Uc=function(){this.requestId=0,this.mediaSessionId=void 0,this.customData=null};Sc.RequestData=Uc;var Vc=function(){this.media=new Dc,this.autoplay=!1,this.currentTime=0,this.activeTrackIds=void 0};m(Vc,Uc),Sc.LoadRequestData=Vc;var Wc=function(){this.volume=new Ec};m(Wc,Uc),Sc.VolumeRequestData=Wc;var Xc=function(){this.textTrackStyle=this.activeTrackIds=void 0};m(Xc,Uc),Sc.EditTracksInfoData=Xc;var Yc=function(){this.resumeState=void 0,this.currentTime=0};m(Yc,Uc),Sc.SeekRequestData=Yc;var Zc=function(){};m(Zc,Uc),Sc.QueueUpdateRequestData=Zc,m(Tc,lb),Sc.LoadInfo=function(a,b){this.message=a,this.senderId=b},Sc.prototype.a=hb("cast.receiver.MediaManager"),Sc.prototype.s=function(){return"MediaManager"},Sc.prototype.Wb=function(){return this.e},Sc.prototype.getMediaInformation=Sc.prototype.Wb,Sc.prototype.pc=function(a,b,c){if(b=void 0==b||b,c&&!b)throw Error("No broadcast call but status customData has been provided");this.e=a,b&&this.k(!0,null,c)},Sc.prototype.setMediaInformation=Sc.prototype.pc;var $c=function(a){for(var b=0;b<a.length;b++)if(!c(a[b].trackId)||!c(a[b].type))return!1;return!0},_c=function(a,b,c){if(!c||0===c.length)return!0;if(!b||c.length>b.length)return nb(a.a,"Too many track IDs"),!1;for(var d=0,e=0,f=0;f<c.length;f++){for(var g=!1,h=0;h<b.length;h++)if(c[f]===b[h].trackId){g=!0;break}if(!g)return nb(a.a,"Track ID does not exist: "+c[f]),!1;if("AUDIO"===b[h].type?e++:"VIDEO"===b[h].type&&d++,e>1||d>1)return nb(a.a,"Maximum one active video and one active audio track supported"),!1}return!0};Sc.prototype.fc=function(a){var b=a.data;a=a.senderId;var c;c=b.type;var d=b.requestId;if("number"==typeof d&&d==Math.floor(d)){var e=!1;void 0!=b.mediaSessionId&&b.mediaSessionId!=this.ka?(nb(this.a,"Invalid media session ID: "+b.mediaSessionId+"  does not match the expected ID: "+this.ka),e=!0):"LOAD"!=c&&"GET_STATUS"!=c&&(void 0==b.mediaSessionId?(nb(this.a,"Invalid media session ID, it is undefined"),e=!0):"IDLE"==ad(this)&&(nb(this.a,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),e=!0)),e?(this.ba(a,d,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID"),c=!1):(mb(this.a,_,"MediaManager message received"),c=!0)}else nb(this.a,"Ignoring request, requestId is not an integer: "+d),c=!1;if(c){switch(d=b.type,c=b.requestId,delete b.type,e=null,d){case"LOAD":pb(this.a,"Dispatching MediaManager load event"),d=!1,b.media?b.media.tracks&&!$c(b.media.tracks)?(nb(this.a,"Invalid tracks information"),d=!0):b.activeTrackIds&&!_c(this,b.media.tracks,b.activeTrackIds)&&(d=!0):(nb(this.a,"Media is mandatory"),d=!0),d?e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}:(this.f?this.Sa("LOAD_CANCELLED"):this.e&&this.P("INTERRUPTED"),this.f={senderId:a,message:b},b.media&&(this.e=b.media),this.p=b.activeTrackIds||null,this.ka++,this.ja&&this.c.kb&&this.c.kb(void 0!=b.autoplay?b.autoplay:!0,0<b.currentTime?b.currentTime:0),b=new Tc("load",b,a),this.onLoad&&this.onLoad(b),this.dispatchEvent(b),e=null);break;case"GET_STATUS":pb(this.a,"Dispatching MediaManager getStatus event"),b=new Tc("getstatus",b,a),this.onGetStatus&&this.onGetStatus(b),this.dispatchEvent(b),e=null;break;case"PLAY":pb(this.a,"Dispatching MediaManager play event"),b=new Tc("play",b,a),this.onPlay&&this.onPlay(b),this.dispatchEvent(b),e=null;break;case"SEEK":void 0==b.currentTime?(nb(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):(pb(this.a,"Dispatching MediaManager seek event"),b=new Tc("seek",b,a),this.onSeek&&this.onSeek(b),this.dispatchEvent(b),e=null);break;case"STOP":pb(this.a,"Dispatching MediaManager stop event"),b=new Tc("stop",b,a),this.onStop&&this.onStop(b),this.dispatchEvent(b),e=null;break;case"PAUSE":pb(this.a,"Dispatching MediaManager pause event"),b=new Tc("pause",b,a),this.onPause&&this.onPause(b),this.dispatchEvent(b),e=null;break;case"SET_VOLUME":!b.volume||void 0==b.volume.level&&void 0==b.volume.muted?(nb(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level?(nb(this.a,"volume level is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):(pb(this.a,"Dispatching MediaManager setvolume event"),b=new Tc("setvolume",b,a),this.onSetVolume&&this.onSetVolume(b),this.dispatchEvent(b),e=null);break;case"EDIT_TRACKS_INFO":pb(this.a,"Dispatching MediaManager ediTracksInfo event"),_c(this,this.e.tracks,b.activeTrackIds)?(d=new Tc("edittracksinfo",b,a),b.textTrackStyle&&(this.e.textTrackStyle=b.textTrackStyle),b.activeTrackIds&&(this.p=b.activeTrackIds),this.onEditTracksInfo&&this.onEditTracksInfo(d),this.dispatchEvent(d),e=null):(nb(this.a,"Invalid track IDs"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"});break;case"QUEUE_UPDATE":b=new Tc("queueupdate",b,a),this.onQueueUpdate&&this.onQueueUpdate(b),this.dispatchEvent(b),e=null;break;default:nb(this.a,"Unexpected message type: "+d),e={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}e&&(nb(this.a,"Sending error: "+e.type+" "+e.reason),this.ba(a,c,e.type,e.reason))}};var ad=function(a){if(!a.e)return"IDLE";var b=a.c.getState();return"PLAYING"==b&&a.u?"BUFFERING":b},bd=function(a,b,c){var d={type:"MEDIA_STATUS"};if(!a.e&&!a.la)return d.status=[],d;var e={mediaSessionId:a.ka,playbackRate:a.jc,playerState:ad(a),currentTime:a.c.getCurrentTimeSec(),supportedMediaCommands:a.uc,volume:a.c.getVolume()};return a.p&&(e.activeTrackIds=a.p),b&&(e.media=a.e||a.la||void 0),a.e||(a.la=null),"IDLE"==e.playerState?a.U&&(e.idleReason=a.U):a.U=null,void 0!=c&&(e.customData=c),a.customizedStatusCallback?(a=a.customizedStatusCallback(e),null==a?d=null:d.status=[a]):d.status=[e],d},cd=function(a){var c=a.c.getCurrentTimeSec();a.M=c,a.gb=c,a.ub=Date.now(),null!=a.Q&&b.clearTimeout(a.Q),a.Q=bc(a.ua,1e3)};Sc.prototype.zb=function(){if(this.Q=bc(this.ua,1e3),"IDLE"!=ad(this)&&"PAUSED"!=ad(this)){var a=this.M;this.M=this.c.getCurrentTimeSec();var b=this.u;this.u=100>1e3*(this.M-a),b!=this.u?(mb(this.a,_,"Buffering state changed, isPlayerBuffering: "+this.u+" old time: "+a+" current time: "+this.M),this.k(!1)):!this.u&&(a=1e3*(this.M-this.gb)-(Date.now()-this.ub),a>1e3||-1e3>a)&&(mb(this.a,_,"Time drifted: "+a),this.k(!1))}},Sc.prototype.k=function(a,b,c){this.c?(mb(this.a,_,"Sending broadcast status message"),a=bd(this,a,c),null!=a&&(a.requestId=b||0,this.ma.Va(a),cd(this))):nb(this.a,"Not sending broadcast status message, state is invalid")},Sc.prototype.broadcastStatus=Sc.prototype.k,Sc.prototype.nc=function(a){mb(this.a,_,"Setting IDLE reason: "+a),this.U=a},Sc.prototype.setIdleReason=Sc.prototype.nc,Sc.prototype.ba=function(a,b,c,d,e){pb(this.a,"Sending error message to "+a);var f={};f.requestId=b,f.type=c,d&&(f.reason=d),e&&(f.customData=e),this.ma.send(a,f)},Sc.prototype.sendError=Sc.prototype.ba,Sc.prototype.ob=function(a,b,c,d){this.c?(mb(this.a,_,"Sending status message to "+a),c=bd(this,c,d),null!=c&&(c.requestId=b,this.ma.send(a,c),cd(this))):(nb(this.a,"State is invalid"),this.ba(a,b,"INVALID_PLAYER_STATE",null,d))},Sc.prototype.sendStatus=Sc.prototype.ob,Sc.prototype.Cb=function(a){return a},Sc.prototype.Jb=function(a){if(a=a.data,a.media&&a.media.contentId){var b=void 0===a.autoplay?!0:a.autoplay;a.media.tracks?this.c.load(a.media.contentId,b,a.currentTime,{tracks:a.media.tracks,activeTrackIds:a.activeTrackIds,textTrackStyle:a.media.textTrackStyle}):this.c.load(a.media.contentId,b,a.currentTime)}},Sc.prototype.cc=function(a){return this.f?(a.tracks=a.tracks||void 0,a.tracks&&!$c(a.tracks)?(nb(this.a,"Invalid tracks information"),!1):a.activeTrackIds&&!_c(this,a.tracks,a.activeTrackIds)?(nb(this.a,"Invalid active tracks"),!1):(this.p=a.activeTrackIds||null,this.e.tracks=a.tracks,this.e.textTrackStyle=a.textTrackStyle||void 0,this.c.load("",!1,void 0,a,!0),!0)):!1},Sc.prototype.loadTracksInfo=Sc.prototype.cc,Sc.prototype.rb=function(a){a!==this.c&&(this.c&&(this.c.unregisterErrorCallback(),this.c.unregisterEndedCallback(),this.c.unregisterLoadCallback()),this.c=(this.ja=a.getState?!1:!0)?new Cc(this.a,a):a,this.c.registerErrorCallback(this.La.bind(this)),this.c.registerEndedCallback(this.Ka.bind(this)),this.c.registerLoadCallback(this.Pa.bind(this)))},Sc.prototype.setMediaElement=Sc.prototype.rb,Sc.prototype.Pa=function(){this.f&&(pb(this.a,"Metadata loaded"),this.e&&(this.e.duration=this.c.getDurationSec()),this.u=!0,this.onMetadataLoaded?this.onMetadataLoaded(this.f):this.f=null)},Sc.prototype.Kb=function(a){this.ja&&a.message&&void 0!=a.message.currentTime&&a.message.currentTime!=this.c.getCurrentTimeSec()&&this.c.seek(a.message.currentTime),this.nb()},Sc.prototype.La=function(a){this.f?(nb(this.a,"Load metadata error"),this.onLoadMetadataError?this.onLoadMetadataError(this.f):this.f=null):this.onError&&this.onError(a)},Sc.prototype.Sa=function(a,b){this.f?(this.ba(this.f.senderId,this.f.message.requestId,a||"LOAD_FAILED",null,b),this.f=null):nb(this.a,"Not sending LOAD error as there is no on going LOAD request")},Sc.prototype.sendLoadError=Sc.prototype.Sa,Sc.prototype.nb=function(a){this.f?(this.k(!0,this.f.message.requestId,a),this.f=null):nb(this.a,"Not sending status as there is no on going LOAD request")},Sc.prototype.sendLoadComplete=Sc.prototype.nb,a=Sc.prototype,a.Gb=function(){this.P("ERROR")},a.Ib=function(){this.P("ERROR",!1),this.Sa("LOAD_FAILED")},a.Ka=function(){this.onEnded&&this.onEnded()},a.Fb=function(){this.P("FINISHED")},a.Hb=function(a){mb(this.a,_,"onGetStatus"),this.ob(a.senderId,a.data.requestId,!0)},a.Mb=function(a){mb(this.a,_,"onPlay"),this.c.play(),this.k(!1,a.data.requestId)},a.Ob=function(a){a=a.data,mb(this.a,_,"onSeek: "+JSON.stringify(a)),this.c.seek(a.currentTime,a.resumeState),"PAUSED"!=this.c.getState()&&(this.u=!0),this.k(!1,a.requestId)},a.Qb=function(a){this.P("CANCELLED",!0,a.data.requestId)},a.P=function(a,b,c,d){if(b=void 0==b||b,(d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.e?(this.c.reset(),this.p=null,a&&(this.U=a),this.la=this.e,this.e=null,b&&this.k(!1,c,d)):pb(this.a,"Nothing to reset, Media is already null")},Sc.prototype.resetMediaElement=Sc.prototype.P,a=Sc.prototype,a.Lb=function(a){this.c.pause(),this.k(!1,a.data.requestId)},a.Pb=function(a){a=a.data,this.c.setVolume(a.volume),this.k(!1,a.requestId)},a.Eb=function(a){a=a.data;var b={activeTrackIds:a.activeTrackIds,textTrackStyle:a.textTrackStyle};this.c.editTracksInfo&&this.c.editTracksInfo(b),this.k(a.textTrackStyle?!0:!1,a.requestId)},a.Nb=function(a){this.k(!1,a.data.requestId)},a.d=function(){Sc.r.d.call(this),mb(this.a,_,"Disposed "+this.s())}}).call(window),window.addEventListener("load",function(){window.cast?(cast.receiver.logger.setLevelValue(0),window.castReceiverManager=cast.receiver.CastReceiverManager.getInstance(),console.log("Starting Receiver Manager"),castReceiverManager.onReady=function(a){console.log("Received Ready event: "+JSON.stringify(a.data)),window.castReceiverManager.setApplicationState("Application status is ready...")},castReceiverManager.onSenderConnected=function(a){displayText(window.innerWidth+" x "+window.innerHeight),console.log("Received Sender Connected event: "+a.data),console.log(window.castReceiverManager.getSender(a.data).userAgent)},castReceiverManager.onSenderDisconnected=function(a){console.log("Received Sender Disconnected event: "+a.data),0===window.castReceiverManager.getSenders().length&&window.close()},castReceiverManager.onSystemVolumeChanged=function(a){console.log("Received System Volume Changed event: "+a.data.level+" "+a.data.muted)},window.messageBus=window.castReceiverManager.getCastMessageBus("urn:x-cast:com.devmountain.helloworld"),window.messageBus.onMessage=function(a){console.log("Message ["+a.senderId+"]: "+a.data),displayText(a.data),window.messageBus.send(a.senderId,a.data)},window.castReceiverManager.start({statusText:"Application is starting"}),console.log("Receiver Manager started")):alert("This app is designed to be served via chromecast, it won't work in a normal browser! Sorry!")},!1);var x=50,y=50;